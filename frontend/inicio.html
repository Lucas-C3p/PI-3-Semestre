<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Início - Calendário de Atividades</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* Estilos específicos para a tela de Início/Calendário */
        .card {
            max-width: 900px;
            text-align: left;
        }
        .nav-bar {
            display: flex;
            justify-content: space-around;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #007bff;
        }
        .nav-bar a {
            text-decoration: none;
            color: #007bff;
            font-weight: bold;
            padding: 5px 10px;
            transition: color 0.3s;
        }
        .nav-bar a:hover {
            color: #0056b3;
        }
        .calendario-grid {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 30px;
            margin-top: 20px;
        }
        .dias-semana {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            text-align: center;
            font-weight: bold;
            background-color: #f0f0f0;
            padding: 5px 0;
            border-radius: 5px 5px 0 0;
        }
        .dias-mes {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
            padding: 10px;
            border: 1px solid #ccc;
            border-top: none;
            border-radius: 0 0 5px 5px;
        }
        .dia {
            padding: 10px 5px;
            border: 1px solid #eee;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
            text-align: center;
            font-size: 14px;
        }
        .dia:hover {
            background-color: #e9ecef;
        }
        .dia.ativo {
            background-color: #007bff;
            color: white;
            font-weight: bold;
        }
        .dia.com-evento {
            border: 2px solid #dc3545;
        }
        .detalhes-dia {
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 8px;
            background-color: rgba(255, 255, 255, 0.8);
        }
        .evento {
            margin-bottom: 15px;
            padding: 10px;
            border-left: 4px solid #007bff;
            background-color: #f8f9fa;
            border-radius: 4px;
        }
        .evento h4 {
            margin: 0 0 5px 0;
            color: #007bff;
        }
        .evento p {
            margin: 0;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="card">
            <h1>Calendário de Atividades</h1>

            <div class="nav-bar">
                <a href="inicio.html">Início/Calendário</a>
                <a href="estoque.html">Estoque</a>
                <a href="chat.html">Chat</a>
                <a href="login.html" style="color: #dc3545;">Sair</a>
            </div>

            <div class="calendario-grid">
                <!-- Calendário -->
                <div>
                    <h2 style="text-align: center;">Novembro 2025</h2>
                    <div class="dias-semana">
                        <span>Dom</span>
                        <span>Seg</span>
                        <span>Ter</span>
                        <span>Qua</span>
                        <span>Qui</span>
                        <span>Sex</span>
                        <span>Sáb</span>
                    </div>
                    <div class="dias-mes" id="calendarioDias">
                        <!-- Dias do mês serão gerados aqui -->
                    </div>
                    <a href="cadastro_afazeres.html" class="btn-primary" style="display: block; margin-top: 20px; text-decoration: none;">+ Cadastrar Novo Afazer</a>
                </div>

                <!-- Detalhes do Dia -->
                <div class="detalhes-dia">
                    <h2 id="detalhesTitulo">Selecione um Dia</h2>
                    <div id="listaEventos">
                        <p>Clique em um dia no calendário para ver os afazeres.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        // Simulação de dados de eventos (Mockup)
        const eventos = {
            '2025-11-15': [
                { hora: '09:00h', descricao: 'Reunião com o cliente Silva (Projeto Telhado)' },
                { hora: '11:00h', descricao: 'Caminhão de areia para entrega na Rua das Flores, 123' },
                { hora: '14:30h', descricao: 'Visita técnica à obra do Bairro Novo' }
            ],
            '2025-11-18': [
                { hora: '10:00h', descricao: 'Entrega de 50 sacos de cimento (Cliente João)' }
            ],
            '2025-11-25': [
                { hora: '16:00h', descricao: 'Pagamento de fornecedor (Tijolos)' }
            ]
        };

        const calendarioDias = document.getElementById('calendarioDias');
        const detalhesTitulo = document.getElementById('detalhesTitulo');
        const listaEventos = document.getElementById('listaEventos');
        const hoje = new Date();
        const ano = hoje.getFullYear();
        const mes = hoje.getMonth(); // 0 = Janeiro

        // Função para gerar o calendário (Mockup de Novembro)
        function gerarCalendario() {
            const primeiroDia = new Date(ano, mes, 1).getDay(); // 0 = Dom, 1 = Seg...
            const diasNoMes = new Date(ano, mes + 1, 0).getDate();

            // Preencher com dias vazios
            for (let i = 0; i < primeiroDia; i++) {
                calendarioDias.innerHTML += '<div></div>';
            }

            // Preencher com os dias do mês
            for (let dia = 1; dia <= diasNoMes; dia++) {
                const dataString = `${ano}-${(mes + 1).toString().padStart(2, '0')}-${dia.toString().padStart(2, '0')}`;
                const temEvento = eventos[dataString] ? 'com-evento' : '';
                const diaElement = document.createElement('div');
                diaElement.className = `dia ${temEvento}`;
                diaElement.textContent = dia;
                diaElement.dataset.data = dataString;
                diaElement.addEventListener('click', () => mostrarDetalhes(diaElement, dataString));
                calendarioDias.appendChild(diaElement);
            }
        }

        // Função para mostrar os detalhes do dia
        function mostrarDetalhes(elemento, dataString) {
            // Remover classe 'ativo' de todos os dias
            document.querySelectorAll('.dia').forEach(d => d.classList.remove('ativo'));
            // Adicionar classe 'ativo' ao dia clicado
            elemento.classList.add('ativo');

            const dataFormatada = new Date(dataString).toLocaleDateString('pt-BR', { day: 'numeric', month: 'long', year: 'numeric' });
            detalhesTitulo.textContent = `Afazeres para ${dataFormatada}`;
            listaEventos.innerHTML = '';

            const eventosDoDia = eventos[dataString];

            if (eventosDoDia && eventosDoDia.length > 0) {
                eventosDoDia.forEach(evento => {
                    listaEventos.innerHTML += `
                        <div class="evento">
                            <h4>${evento.hora}</h4>
                            <p>${evento.descricao}</p>
                        </div>
                    `;
                });
            } else {
                listaEventos.innerHTML = '<p>Nenhum afazer agendado para este dia.</p>';
            }
        }

        gerarCalendario();
    </script>
</body>
</html>
